114  kubectl -n gopal-dev create deployment my-first-deployment
  #this will give you help how to create the deployment
  115  kubectl -n gopal-dev create deployment my-first-deployment --help
#you can generate the manifest file for the deployment 
  117  kubectl -n gopal-dev create deployment my-first-deployment --image=nginx --replicas=1 --port=80 --dry-run=client -o yaml
  118  kubectl -n gopal-dev create deployment my-first-deployment --image=nginx --replicas=1 --port=80 --dry-run=client -o yaml > gopal-dep.yml
  119  cat gopal-dep.yml
  120  kubectl apply -f gopal-dep.yml
  #this will not show the deployment as it is looking in default namespace
  121  kubectl get deploy
  #this will show the deployment 
  122  kubectl -n gopal-dev get deploy
  123  kubectl -n gopal-dev describe deploy
  124  kubectl -n gopal-dev get deploy
  #if you see the replicaset is cobination of deployment+a unique hash value for rs
    126  kubectl -n gopal-dev get rs
  #if you look into your pod you will find that your pod container dep+rs+pod
  125  kubectl -n gopal-dev get pod
##replace the pod id withy your own pod 
  127  kubectl -n gopal-dev delete pod my-first-deployment-86d5b59c-m5ldl
  ##once you delete your pod it will come back
  128  kubectl -n gopal-dev get pod
  129  cat gopal-dep.yml
#deployment explanation
#any yaml file you want to apply in k8s 
#kubectl apply -f dep.yml
#yaml file execute from top to bottom and left to right
apiVersion: apps/v1 #this is the api version of the deployment
kind: Deployment #we are creating a deployment
metadata:
  labels:
    app: my-first-deployment
  name: my-first-deployment #this is the name ofd the deployment
  namespace: gopal-dev #we are creatring the deployment in gopal-dev namespace
spec: #this is the specification of the deployment
  replicas: 2 #this will create two pod 
  selector: #but this two pod need to be controlled by the deployment
    matchLabels:
      app: my-first-deployment
  strategy: {}
  template: #there is template block
  #when we are creating two pods those two pod need to have similar defination
    metadata:
      labels: 
        app: my-first-deployment
    #inside the pod we are going creat container
    spec: #here we will define the container
      containers:
      - image: nginx
        name: nginx
        ports:
        - containerPort: 80
        resources: {}
status: {}
###############################
#lets create teh service and expose my application outside k8s cluster
##############################
  133  kubectl -n gopal-dev get pod
  134  kubectl -n gopal-dev get deployment
  135  kubectl -n gopal-dev expose deployment my-first-deployment --help
  136  kubectl -n gopal-dev expose deployment my-first-deployment --type=NodePort --name=my-first-service
#this will show the port number which is in 30thousand series
  137  kubectl -n gopal-dev get svc
##once you get the port number use the same dns just replace the port number
lab-as-25486.lc.cl-labs.springpeople.com:30303
#lets autoscale and manual scaling
139  kubectl -n gopal-dev scale deployment my-first-deployment --replicas=5
  140  kubectl -n gopal-dev get deployment
  141  kubectl -n gopal-dev get rs
  142  kubectl -n gopal-dev get pod
 
  145  kubectl -n gopal-dev autoscale deployment my-first-deployment --min=5 --max=10 --cpu=80%
#this will show the horizontal pod autoscaler
  146  kubectl -n gopal-dev get hpa
#####################

